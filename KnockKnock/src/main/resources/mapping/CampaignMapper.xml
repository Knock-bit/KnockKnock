<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!-- 참고파일 나중에 삭제 -->
<mapper namespace="campaign">
	<!-- 캠페인 상세보기 -->
	<select id="selectOneCampaign" parameterType="int" resultType="CampaignVO">
		SELECT * FROM CAMPAIGN_ING WHERE C_IDX=#{cIdx}
	</select>
	
	<select id="selectAllCampaign" resultType="CampaignVO">
		SELECT * FROM CAMPAIGN_ING WHERE CI_STATUS = 1
	</select>
	
	<!-- 기간이 만료됐는지 확인하여 만료 시 캠페인 상태를 0으로 바꾼다 -->
	<update id="updateExpiredCampaign">
		UPDATE CAMPAIGN_ING
		   SET STATUS = 0
		  WHERE SYSDATE > END_DATE
	</update>
	
	<!-- 기간이 만료됐는지 확인하여 만료 시 펀딩 상태를 0으로 바꾼다 -->
	<update id="updateExpiredFunding">
		UPDATE CAMPAIGN_NOMINEE
		   SET STATUS = 0
		  WHERE SYSDATE > END_DATE
	</update>
	
	
	
	
	
	
	
	
</mapper>